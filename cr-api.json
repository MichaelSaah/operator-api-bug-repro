{"apiVersion": "pxc.percona.com/v1-5-0", "kind": "PerconaXtraDBCluster", "metadata": {"name": "cluster2", "finalizers": ["delete-pxc-pods-in-order"]}, "spec": {"secretsName": "my-cluster-secrets", "sslSecretName": "my-cluster-ssl", "sslInternalSecretName": "my-cluster-ssl-internal", "allowUnsafeConfigurations": true, "updateStrategy": "SmartUpdate", "upgradeOptions": {"versionServiceEndpoint": "https://check.percona.com/versions", "apply": "recommended", "schedule": "0 4 * * *"}, "pxc": {"size": 1, "image": "percona/percona-xtradb-cluster:8.0.19-10.1", "resources": {"requests": {"memory": "1G", "cpu": "600m"}}, "affinity": {"antiAffinityTopologyKey": "kubernetes.io/hostname"}, "podDisruptionBudget": {"maxUnavailable": 1}, "volumeSpec": {"persistentVolumeClaim": {"resources": {"requests": {"storage": "6Gi"}}}}, "gracePeriod": 600}, "haproxy": {"enabled": true, "size": 3, "image": "percona/percona-xtradb-cluster-operator:1.5.0-haproxy", "serviceType": "LoadBalancer", "resources": {"requests": {"memory": "1G", "cpu": "600m"}}, "affinity": {"antiAffinityTopologyKey": "kubernetes.io/hostname"}, "podDisruptionBudget": {"maxUnavailable": 1}, "gracePeriod": 30}, "proxysql": {"enabled": false, "size": 3, "image": "percona/percona-xtradb-cluster-operator:1.5.0-proxysql", "resources": {"requests": {"memory": "1G", "cpu": "600m"}}, "affinity": {"antiAffinityTopologyKey": "kubernetes.io/hostname"}, "volumeSpec": {"persistentVolumeClaim": {"resources": {"requests": {"storage": "2Gi"}}}}, "podDisruptionBudget": {"maxUnavailable": 1}, "gracePeriod": 30}, "pmm": {"enabled": false, "image": "percona/percona-xtradb-cluster-operator:1.5.0-pmm", "serverHost": "monitoring-service", "serverUser": "pmm"}, "backup": {"image": "percona/percona-xtradb-cluster-operator:1.5.0-pxc8.0-backup", "serviceAccountName": "percona-xtradb-cluster-operator", "storages": {"s3-us-west": {"type": "s3", "s3": {"bucket": "S3-BACKUP-BUCKET-NAME-HERE", "credentialsSecret": "my-cluster-name-backup-s3", "region": "us-west-2"}}, "fs-pvc": {"type": "filesystem", "volume": {"persistentVolumeClaim": {"accessModes": ["ReadWriteOnce"], "resources": {"requests": {"storage": "6Gi"}}}}}}, "schedule": [{"name": "sat-night-backup", "schedule": "0 0 * * 6", "keep": 3, "storageName": "s3-us-west"}, {"name": "daily-backup", "schedule": "0 0 * * *", "keep": 5, "storageName": "fs-pvc"}]}}}